# CRUD Quiz

Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way.

## MVP Questions

In our Property Tracker application:

Q1. Where are we instantiating instances of the `Property` class?
Inside of the console.rb file.

Q2. Where are we defining the SQL that enables us to save the ruby `Property` object into the database?
We are defining it as a method called save which is part of the Property object.

Q3. In `console.rb`, which lines modify the database?
Property.delete_all()
property1.save()
property2.save()
property3.save()
property1.delete()

Q4. Why do we not define the id of a `Property` object at the point we instantiate it (‘new it up’)?
We want the database itself to generate unique id's for each entry and then we can retrieve this id value after, to be used in other methods.

Q5. Where and how do we assign the id (that is generated by the database) to the ruby `Property` object?
The id is created in the sql file, included as a field called id which is a primary key.
It is serialised, so when the database is created and data is saved to it, that instance of the object gets given the unique id.

Q6. Why do we put a guard (an `if` clause) on the `@id` attribute in the constructor?
To make sure that if the database has been ran and populated, that the id's are read from the id attribute already created.

Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?
Some CRUD actions you may only want to do to a certain entry (eg. delete a certain entry) which would require an instance.
Whereas an overall method that effects all entries would use a class method (eg. deleting every entry in a table).

Q8. What type of data structure is returned by calls to `db.exec_prepared()`? In the `save` method, how do we access the id from the returned data structure?
An array with the object that was instantiated in the method. To access we select the first array index ([0]) to get the object which is a hash.
Then we select the value we need using the 'id' key.

Q9. Why do we use prepared statements when performing database operations?
To protect our database from a sql injection attack, by preventing the user from directly inputting sql inputs in data fields.

## Extension Questions

Look at the `find_by_id` and `find_by_address` methods in the `Property` class.

Q10. What do they take in as their arguments?

Q11. What are their return values?
Return an instance of the Property object that is populated using a hash. The hash its self is the information taken from fields that match the searched property.
